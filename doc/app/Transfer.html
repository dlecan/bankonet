<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: Transfer</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./app/models/transfer_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="app/models/transfer.rb">app/models/transfer.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">ActiveRecord::Base</p>
				
			</div>
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">CLASS</span> <a href="Transfer/TransferValidator.html">Transfer::TransferValidator</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-i-create_operations">#create_operations</a></li>
					
					<li><a href="#method-i-user">#user</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><span class="include">ActiveModel::Validations</span></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./Admin.html">Admin</a></li>
				
					<li><a href="./Admin/AccountsController.html">Admin::AccountsController</a></li>
				
					<li><a href="./Admin/AdminController.html">Admin::AdminController</a></li>
				
					<li><a href="./Admin/CreditsController.html">Admin::CreditsController</a></li>
				
					<li><a href="./Admin/DebitsController.html">Admin::DebitsController</a></li>
				
					<li><a href="./Admin/HomeController.html">Admin::HomeController</a></li>
				
					<li><a href="./Admin/ProfilesController.html">Admin::ProfilesController</a></li>
				
					<li><a href="./Admin/TransfersController.html">Admin::TransfersController</a></li>
				
					<li><a href="./Admin/UsersController.html">Admin::UsersController</a></li>
				
					<li><a href="./Transfer.html">Transfer</a></li>
				
					<li><a href="./Transfer/TransferValidator.html">Transfer::TransferValidator</a></li>
				
					<li><a href="./Account.html">Account</a></li>
				
					<li><a href="./AccountsController.html">AccountsController</a></li>
				
					<li><a href="./ApplicationController.html">ApplicationController</a></li>
				
					<li><a href="./BaseController.html">BaseController</a></li>
				
					<li><a href="./Credit.html">Credit</a></li>
				
					<li><a href="./Debit.html">Debit</a></li>
				
					<li><a href="./HomeController.html">HomeController</a></li>
				
					<li><a href="./Manager.html">Manager</a></li>
				
					<li><a href="./Operation.html">Operation</a></li>
				
					<li><a href="./OperationsController.html">OperationsController</a></li>
				
					<li><a href="./ProfilesController.html">ProfilesController</a></li>
				
					<li><a href="./StatementsController.html">StatementsController</a></li>
				
					<li><a href="./TransfersController.html">TransfersController</a></li>
				
					<li><a href="./User.html">User</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">Transfer</h1>

		<div id="description">
			<p>
Bankonet on Rails. Copyright &#169; 2011 <a
href="http://www.sqli.com">SQLI</a> <br /> Author: Philippe Gu√©gan (<a
href="mailto:pguegan@sqli.com">pguegan@sqli.com</a>)
</p>
<hr style="height: 1px"></hr><p>
A transfer is an amount which is debited from one <a
href="Account.html">Account</a> (the source account) and credited to
another <a href="Account.html">Account</a> (the target account). Therefore,
a transfer is made of two basic operations: a credit and a debit. The
creation of a transfer implies the creation of a <a
href="Debit.html">Debit</a> on the source account, and a <a
href="Credit.html">Credit</a> on the target account.
</p>
<p>
Of course, the source <a href="Account.html">Account</a> must be distinct
from the target <a href="Account.html">Account</a>.
</p>
<p>
A Customer is only able to create transfers on his own accounts. That
means, he cannot transfer money from accounts that do not belong to him. In
this case, the global balance of all the customer accounts remains
unchanged.
</p>
<p>
However, a <a href="Manager.html">Manager</a> has more privileges. He can
create transfers on cross-cutomer accounts.
</p>
<p>
Although a transfer may be seen like an operation, technically it is not.
It is a composition of two separate operations: a <a
href="Debit.html">Debit</a> and a <a href="Credit.html">Credit</a>.
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="user-method" class="method-detail ">
				<a name="method-i-user"></a>

				<div class="method-heading">
				
					<span class="method-name">user</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="user-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/transfer.rb, line 46</span>
46:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user</span>
47:     <span class="ruby-comment cmt"># Since both source and target accounts belong to the same customer,</span>
48:     <span class="ruby-comment cmt"># we arbitrarily choose the source account to retrieve the customer</span>
49:     <span class="ruby-identifier">source</span>.<span class="ruby-identifier">user</span>
50:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="create-operations-method" class="method-detail ">
				<a name="method-i-create_operations"></a>

				<div class="method-heading">
				
					<span class="method-name">create_operations</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="create-operations-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/transfer.rb, line 54</span>
54:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_operations</span>
55:     <span class="ruby-identifier">source</span>.<span class="ruby-identifier">debits</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:amount</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">amount</span>, <span class="ruby-value">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;Transfer to #{target.description}&quot;</span>)
56:     <span class="ruby-identifier">target</span>.<span class="ruby-identifier">credits</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:amount</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">amount</span>, <span class="ruby-value">:description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;Transfer from #{source.description}&quot;</span>)
57:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

